<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <configSections>
        <section name="HtmlEditorProvider" type="BugNET.Providers.HtmlEditorProviders.HtmlEditorConfiguration, BugNET.Providers.HtmlEditorProviders" requirePermission="false" allowDefinition="MachineToApplication" />
        <section name="DataProvider" type="BugNET.DAL.DataProviderConfiguration, BugNET.DAL" requirePermission="false" allowDefinition="MachineToApplication" />
        <sectionGroup name="dotNetOpenAuth" type="DotNetOpenAuth.Configuration.DotNetOpenAuthSection, DotNetOpenAuth">
            <section name="openid" type="DotNetOpenAuth.Configuration.OpenIdElement, DotNetOpenAuth" requirePermission="false" allowLocation="true" />
            <section name="oauth" type="DotNetOpenAuth.Configuration.OAuthElement, DotNetOpenAuth" requirePermission="false" allowLocation="true" />
            <section name="messaging" type="DotNetOpenAuth.Configuration.MessagingElement, DotNetOpenAuth" requirePermission="false" allowLocation="true" />
            <section name="reporting" type="DotNetOpenAuth.Configuration.ReportingElement, DotNetOpenAuth" requirePermission="false" allowLocation="true" />
        </sectionGroup>
        <!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 -->
        <section name="entityFramework" type="System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=4.4.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" requirePermission="false" />
    </configSections>
    <connectionStrings>
        <clear />
        <add name="BugNET" connectionString="Data Source=.\SQLEXPRESS;Initial Catalog=BugNET;Integrated Security=SSPI;" providerName="System.Data.SqlClient" /> 
    </connectionStrings>
    <DataProvider defaultProvider="SqlDataProvider">
        <providers>
            <add name="SqlDataProvider" type="BugNET.Providers.DataProviders.SqlDataProvider, BugNET.Providers.SqlDataProvider" connectionStringName="BugNET" providerPath="~\Providers\DataProviders\SqlDataProvider\" />
        </providers>
    </DataProvider>
    <HtmlEditorProvider defaultProvider="CkHtmlEditorProvider">
        <providers>
            <add name="TextboxHtmlEditorProvider" type="BugNET.Providers.HtmlEditorProviders.TextboxHtmlEditorProvider, BugNET.Providers.TextboxHtmlEditorProvider" Height="250" Width="100%" />
            <add name="CkHtmlEditorProvider" type="BugNET.Providers.HtmlEditorProviders.CkHtmlEditorProvider, BugNET.Providers.CkHtmlEditorProvider" Height="250" Width="100%" Toolbar="Basic" providerPath="~\Scripts\CKEditor\" />
        </providers>
    </HtmlEditorProvider>
    <dotNetOpenAuth>
        <reporting enabled="false" />
        <openid>
            <relyingParty>
                <security requireSsl="false">
                    <!-- Uncomment the trustedProviders tag if your relying party should only accept positive assertions from a closed set of OpenID Providers. -->
                    <!--<trustedProviders rejectAssertionsFromUntrustedProviders="true">
						<add endpoint="https://www.google.com/accounts/o8/ud" />
					</trustedProviders>-->
                </security>
                <behaviors>
                    <!-- The following OPTIONAL behavior allows RPs to use SREG only, but be compatible
						 with OPs that use Attribute Exchange (in various formats). -->
                    <add type="DotNetOpenAuth.OpenId.RelyingParty.Behaviors.AXFetchAsSregTransform, DotNetOpenAuth" />
                </behaviors>
            </relyingParty>
        </openid>
        <messaging>
            <untrustedWebRequest>
                <whitelistHosts>
                    <!-- Uncomment to enable communication with localhost (should generally not activate in production!) -->
                    <!--<add name="localhost" />-->
                </whitelistHosts>
            </untrustedWebRequest>
        </messaging>
    </dotNetOpenAuth>
    <system.web>
        <globalization culture="en-US" uiCulture="en" requestEncoding="UTF-8" responseEncoding="UTF-8" fileEncoding="UTF-8" />
        <httpRuntime maxRequestLength="4000" executionTimeout="1000" />
        <httpModules>
            <!-- BugNET HttpModules -->
            <add name="AuthenticationModule" type="BugNET.HttpModules.AuthenticationModule, BugNET.HttpModules.Authentication" />
            <add name="MailBoxReaderModule" type="BugNET.HttpModules.MailboxReaderModule, BugNET.HttpModules.MailBoxReader" />
            <add name="LocalizationModule" type="BugNET.HttpModules.LocalizationModule, BugNET.HttpModules.Localization" />
        </httpModules>
        <pages enableSessionState="true" theme="Default" clientIDMode="AutoID">
            <controls>
                <add tagPrefix="openAuth" assembly="DotNetOpenAuth" namespace="DotNetOpenAuth.OpenId.RelyingParty" />
                <add tagPrefix="bn" tagName="Message" src="~/UserControls/Message.ascx" />
                <add tagPrefix="bn" tagName="PickProject" src="~/UserControls/PickProject.ascx" />
                <add tagPrefix="bn" tagName="DisplayIssues" src="~/UserControls/DisplayIssues.ascx" />
                <add tagPrefix="bn" tagName="HtmlEditor" src="~/UserControls/HtmlEditor.ascx" />
                <add tagPrefix="bn" tagName="TextImage" src="~/UserControls/TextImage.ascx" />
                <add tagPrefix="bn" tagName="PickDate" src="~/UserControls/PickDate.ascx" />
                <add tagPrefix="ajaxToolkit" assembly="AjaxControlToolkit" namespace="AjaxControlToolkit" />
            </controls>
        </pages>
        <compilation debug="true" targetFramework="4.0" batch="false">
            <assemblies>
                <add assembly="System.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A" />
                <add assembly="System.Windows.Forms, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
                <add assembly="System.Web.Extensions.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35" />
            </assemblies>
        </compilation>
        <httpHandlers>
            <add verb="GET" path="DownloadAttachment.axd" type="BugNET.UserInterfaceLayer.DownloadAttachment" />
        </httpHandlers>
        <customErrors defaultRedirect="~/Errors/Error.aspx" mode="Off" />
        <!-- Authentication Settings -->
        <authentication mode="Forms">
            <forms name="BugNET" loginUrl="~/Account/Login.aspx" timeout="2880" />
        </authentication>
        <profile enabled="true" automaticSaveEnabled="false" defaultProvider="MyProfileProvider">
            <providers>
                <clear />
                <add name="MyProfileProvider" type="Altairis.Web.Security.SimpleSqlProfileProvider, Altairis.Web.Security, Version=2.4.4.0, Culture=neutral, PublicKeyToken=9a962e35c1398fb4" connectionStringName="BugNET" tableName="BugNet_UserProfiles" keyColumnName="UserName" lastUpdateColumnName="LastUpdate" />
            </providers>
            <properties>
                <add name="FirstName" type="String" customProviderData="FirstName;nvarchar;100" />
                <add name="LastName" type="String" customProviderData="LastName;nvarchar;100" />
                <add name="DisplayName" type="String" customProviderData="DisplayName;nvarchar;150" />
                <add name="IssuesPageSize" type="Int32" defaultValue="10" customProviderData="IssuesPageSize;int" />
                <add name="PreferredLocale" type="String" defaultValue="en-US" customProviderData="PreferredLocale;nvarchar;50" />
                <add name="SelectedIssueColumns" type="String" defaultValue="" customProviderData="SelectedIssueColumns;nvarchar;50" />
                <add name="ReceiveEmailNotifications" type="Boolean" defaultValue="true" customProviderData="ReceiveEmailNotifications;bit" />
                <add name="PasswordVerificationToken" type="String" defaultValue="" customProviderData="PasswordVerificationToken;nvarchar;128" />
                <add name="PasswordVerificationTokenExpirationDate" type="DateTime" customProviderData="PasswordVerificationTokenExpirationDate;datetime" />
            </properties>
        </profile>

        <membership defaultProvider="ExtendedSqlMembershipProvider">
            <providers>
                <clear />
                <add name="ExtendedSqlMembershipProvider" type="BugNET.Providers.MembershipProviders.ExtendedSqlMembershipProvider, BugNET.Providers.MembershipProviders.ExtendedSqlMembershipProvider" connectionStringName="BugNET" description="Extended Membership API" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" applicationName="BugNET" requiresUniqueEmail="true" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="7" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" />
            </providers>
        </membership>
        <!--<membership defaultProvider="DefaultMembershipProvider">
            <providers>
                <clear />
                <add name="DefaultMembershipProvider" type="System.Web.Providers.DefaultMembershipProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="BugNET" enablePasswordRetrieval="false" enablePasswordReset="true" requiresQuestionAndAnswer="false" requiresUniqueEmail="true" maxInvalidPasswordAttempts="5" minRequiredPasswordLength="6" minRequiredNonalphanumericCharacters="0" passwordAttemptWindow="10" applicationName="BugNET" />
            </providers>
        </membership>-->
        <roleManager defaultProvider="DefaultRoleProvider">
            <providers>
                <add name="DefaultRoleProvider" type="System.Web.Providers.DefaultRoleProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="BugNET" applicationName="BugNET" />
            </providers>
        </roleManager>
        <!--
            If you are deploying to a cloud environment that has multiple web server instances,
            you should change session state mode from "InProc" to "Custom". In addition,
            change the connection string named "DefaultConnection" to connect to an instance
            of SQL Server (including SQL Azure and SQL  Compact) instead of to SQL Server Express.
        -->
        <sessionState mode="InProc" customProvider="DefaultSessionProvider">
            <providers>
                <add name="DefaultSessionProvider" type="System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" connectionStringName="DefaultConnection" />
            </providers>
        </sessionState>
    </system.web>
    <system.net>
        <defaultProxy enabled="true" />
        <settings>
            <!-- This setting causes .NET to check certificate revocation lists (CRL) 
				 before trusting HTTPS certificates.  But this setting tends to not 
				 be allowed in shared hosting environments. -->
            <!--<servicePointManager checkCertificateRevocationList="true"/>-->
        </settings>
    </system.net>
    <system.webServer>
        <validation validateIntegratedModeConfiguration="false" />
        <modules>
            <!-- BugNET HttpModules -->
            <!--<add name="AuthenticationModule" type="BugNET.HttpModules.AuthenticationModule, BugNET.HttpModules.Authentication" />-->
            <!--<add name="MailBoxReaderModule" type="BugNET.HttpModules.MailboxReaderModule, BugNET.HttpModules.MailBoxReader" />-->
            <add name="LocalizationModule" type="BugNET.HttpModules.LocalizationModule, BugNET.HttpModules.Localization" />
        </modules>
        <handlers>
            <add name="DocumentHandler" path="DownloadAttachment.axd" verb="*" type="BugNET.UserInterfaceLayer.DownloadAttachment" resourceType="Unspecified" preCondition="integratedMode" />
        </handlers>
    </system.webServer>
    <uri>
        <!-- The uri section is necessary to turn on .NET 3.5 support for IDN (international domain names),
		 which is necessary for OpenID urls with unicode characters in the domain/host name. 
		 It is also required to put the Uri class into RFC 3986 escaping mode, which OpenID and OAuth require. -->
        <idn enabled="All" />
        <iriParsing enabled="true" />
    </uri>
    <runtime>
        <!-- This prevents the Windows Event Log from frequently logging that HMAC1 is being used (when the other party needs it). -->
        <legacyHMACWarning enabled="0" />
        <!-- When targeting ASP.NET MVC 3, this assemblyBinding makes MVC 1 and 2 references relink
			 to MVC 3 so libraries such as DotNetOpenAuth that compile against MVC 1 will work with it.
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0" />
			</dependentAssembly>
		</assemblyBinding>
		-->
    </runtime>
    <startup>
        <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0" />
    </startup>
    <entityFramework>
        <defaultConnectionFactory type="System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework" />
    </entityFramework>
</configuration>